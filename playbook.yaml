---

- hosts: all
  become: true
  roles:
    - basic_pkgs


- hosts: all
  become: true
  roles:
    - user_config

- hosts: all
  become: true
  roles:
    - zsh
      
- hosts: file_servers
  become: true
  roles:
    - file_server

- hosts: serverpi
  become: true
  roles:
    - serverpi

- hosts: apache
  become: true
  roles:
    - apache

- hosts: webdav
  become: true
  roles:
    - webdav

- hosts: another_lu
  become: true
  roles:
    - another_lu


- hosts: ddclient, ddclient_fallback
  become: true
  roles:
    - ddclient_setup

- hosts: ddclient
  become: true
  roles:
    - ddclient

- hosts: ddclient_fallback
  become: true
  roles:
    - ddclient_fallback

- hosts: multiuser
  become: true
  gather_facts: no
  tasks:

    - name: copy files to test ansible-vault
      tags: vault
      copy:
        src: "~/Ansible/{{ item }}"
        dest: /home/eddie/vault_files/
        owner: eddie
        mode: 0775
      loop:
        - non_encrypted.txt
        - encrypted.txt
